<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static',filename='styles/style.css') }}"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!--<script src="{{ url_for('static',filename='js/main.js') }}" type="text/javascript"></script>-->
    <script>
      alert("Here");

      function featureHandler() {
        alert("In handler");
        let selectedFeatures = new Array();
        let featureList = document.getElementById("feature-selector");
        featureList = featureList.getElementsByTagName("input");
        for (let i = 0; i < featureList.length; i++) {
          if (featureList[i].checked) {
            selectedFeatures.push(featureList[i].value);
          }
        }
        let monthVal = document.getElementById("month").value;
        let yearVal = +document.getElementById("year").value;
        let testVal = +document.getElementById("test-data").value;
        let obj = {
          month: monthVal,
          year: yearVal,
          test: testVal,
          features: selectedFeatures,
        };
        fetch(
          "/data",
          {
            method: "POST",
            body: JSON.stringify(obj),
            headers: {
              "Content-type": "application/json; charset=UTF-8",
            },
          });
      }
    </script>
    <title>Sales Forcasting</title>
  </head>
  <body>
    <div class="navbar bs">
      <div class="container">
        <div class="figure">Sales Forcasting</div>
        <div class="nav-links">
          <div class="nav-link">
            <a
              href="https://github.com/bistaastha/sales-forecasting"
              target="_blank"
              >GitHub</a
            >
          </div>
          <div class="nav-link">
            <a href="/dataframe" target="_blank">/dataframe</a>
          </div>
          <div class="nav-link"><a href="/plot" target="_blank">/plot</a></div>
        </div>
      </div>
    </div>

    <div class="main container">
      <div class="left bs">
        <div class="heading">Configuration</div>

        <section>
          <div class="sub-heading">Filters</div>
          <div class="content">
            <div class="form-grp">
              <label for="month">Month</label>
              <input list="month-list" type="text" id="month" name="month" />
              <datalist id="month-list">
                <option value="All"></option>
                <option value="January"></option>
                <option value="February"></option>
                <option value="March"></option>
                <option value="April"></option>
                <option value="May"></option>
                <option value="June"></option>
                <option value="July"></option>
                <option value="August"></option>
                <option value="September"></option>
                <option value="October"></option>
                <option value="November"></option>
                <option value="December"></option>
              </datalist>
            </div>
            <div class="form-grp">
              <label for="year">Year</label>
              <input list="year-list" type="text" id="year" name="year" />
              <datalist id="year-list">
                <option value="2010"></option>
                <option value="2011"></option>
                <option value="2012"></option>
              </datalist>
            </div>
          </div>
        </section>
        <section>
          <div class="sub-heading">Features</div>
          <div class="content">
            <div class="item">Algorithm Used : Decision Tree</div>
            <div class="form-grp">
              <label for="test-data">Test Data Size (in percent)</label>
              <input
                type="number"
                id="test-data"
                min="20"
                max="40"
                name="test-data"
              />
            </div>
            <div class="checkboxes" id="feature-selector">
              <div class="checkbox-grp">
                <input type="checkbox" id="size" name="size" value="size" />
                <label for="size">Size</label>
              </div>
              <div class="checkbox-grp">
                <input
                  type="checkbox"
                  id="isHoliday"
                  name="isHoliday"
                  value="isHoliday"
                />
                <label for="isHoliday">Is Holiday</label>
              </div>
              <div class="checkbox-grp">
                <input
                  type="checkbox"
                  id="temperature"
                  name="temperature"
                  value="temperature"
                />
                <label for="temperature">Temperature</label>
              </div>
              <div class="checkbox-grp">
                <input
                  type="checkbox"
                  id="fuelprice"
                  name="fuelprice"
                  value="fuelprice"
                />
                <label for="fuelprice">Fuel Price</label>
              </div>
              <div class="checkbox-grp">
                <input
                  type="checkbox"
                  id="unemployment"
                  name="unemployment"
                  value="unemployment"
                />
                <label for="unemployment">Unemployment</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="m1" name="m1" value="m1" />
                <label for="m1">M1</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="m2" name="m2" value="m2" />
                <label for="m2">M2</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="m3" name="m3" value="m3" />
                <label for="m3">M3</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="m4" name="m4" value="m4" />
                <label for="m4">M4</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="m5" name="m5" value="m5" />
                <label for="m5">M5</label>
              </div>
              <div class="checkbox-grp">
                <input type="checkbox" id="type" name="type" value="type" />
                <label for="type">Type</label>
              </div>
            </div>
          </div>
          <button class="submit" onclick="featureHandler()">Submit</button>
        </section>
      </div>

      <div class="right bs">
        <p id="filler"></p>
      </div>
    </div>

    <div class="footer bs">Made By Aastha Bist</div>
  </body>
</html>
